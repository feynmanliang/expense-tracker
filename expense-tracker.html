<head>
  <title>Expense Tracker</title>
</head>

<body>
</body>

<template name="layout1">
  {{> Template.dynamic template=top}}
  {{> Template.dynamic template=main}}
</template>

<template name="header">
  <header>
    <h1>Expense Tracker</h1>
    <a href="/">Expenses</a> -- <a href="/report">Report</a> -- <a href="/users">Users</a> -- {{> loginButtons}}
  </header>
</template>

<template name="userList">
  {{> tabular table=TabularTables.Users class="table table-striped table-bordered table-condensed"}}
</template>

<template name="expenseList">
  {{> insertExpenseForm}}
  <ul>
    {{> tabular table=TabularTables.Expenses class="table table-striped table-bordered table-condensed"}}
  </ul>
</template>

<template name="insertExpenseForm">
  {{#autoForm collection="Expenses" id="insertExpenseForm" type="insert"}}
    <fieldset>
      <legend>Add an Expense</legend>
      {{> afQuickField name='timestamp' type="datetime-local"}}
      {{> afQuickField name='description'}}
      {{> afQuickField name='amount'}}
      {{> afQuickField name='comment'}}
      {{> afQuickField name='ownerId' value=userId type="hidden"}}
    </fieldset>
    <button type="submit" class="btn btn-primary">Insert</button>
  {{/autoForm}}
</template>

<template name="updateExpenseCell">
  <button type="button" class="btn btn-xs update">Update</button>
</template>

<template name="updateExpenseForm">
  {{> quickForm collection="Expenses" doc=expenseData id="updateExpenseForm" type="update"}}
</template>

<template name="deleteExpenseCell">
  <button type="button" class="btn btn-xs delete">Delete</button>
</template>

<template name="report">
  <h2>Weekly Expense Report</h2>
  <ul>
    {{> tabular table=TabularTables.WeeklyReport class="table table-striped table-bordered table-condensed"}}
  </ul>
</template>

<template name="reportLine">
  <li>{{year}} -- {{week}} -- {{total}} -- {{perDayAverage}}</li>
</template>


<template name="updateUserCell">
  <button type="button" class="btn btn-xs update">Update</button>
</template>

<template name="updateUserForm">
  {{> quickForm collection="Meteor.users" doc=userData id="updateUserForm" type="update"}}
</template>

<template name="deleteUserCell">
  <button type="button" class="btn btn-xs delete">Delete</button>
</template>
